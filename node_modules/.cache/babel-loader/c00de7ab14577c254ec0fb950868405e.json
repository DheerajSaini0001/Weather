{"ast":null,"code":"import _slicedToArray from\"/Users/dheeraj/Desktop/Weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import apiKeys from\"./apiKeys\";function Forcast(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),weather=_useState6[0],setWeather=_useState6[1];var search=function search(city){axios.get(\"\".concat(apiKeys.base,\"weather?q=\").concat(city!==\"[object Object]\"?city:query,\"&units=metric&APPID=\").concat(apiKeys.key)).then(function(response){setWeather(response.data);setQuery(\"\");setError(\"\");// Clear previous errors\nvar isDay=response.data.weather[0].icon.includes('d');if(props.onWeatherUpdate){props.onWeatherUpdate(response.data.weather[0].main,isDay);}}).catch(function(error){console.log(error);setWeather({});setQuery(\"\");setError({message:\"Not Found\",query:query});});};useEffect(function(){search(\"Delhi\");},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"forecast-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"search-box\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"search-bar\",placeholder:\"Search any city...\",onChange:function onChange(e){return setQuery(e.target.value);},value:query,onKeyPress:function onKeyPress(e){return e.key==='Enter'&&search(query);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"search-btn\",onClick:function onClick(){return search(query);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa-solid fa-magnifying-glass\"}))),typeof weather.main!==\"undefined\"?/*#__PURE__*/React.createElement(\"div\",{className:\"results-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"city-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"city-info\"},/*#__PURE__*/React.createElement(\"h3\",null,weather.name,\", \",/*#__PURE__*/React.createElement(\"span\",{className:\"country-tag\"},weather.sys.country)),/*#__PURE__*/React.createElement(\"p\",{className:\"weather-desc\"},weather.weather[0].main)),/*#__PURE__*/React.createElement(\"img\",{className:\"weather-icon-small\",src:\"https://openweathermap.org/img/wn/\".concat(weather.weather[0].icon,\"@2x.png\"),alt:\"icon\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"stats-grid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"stat-box\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa-solid fa-temperature-three-quarters\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"stat-label\"},\"Temp\"),/*#__PURE__*/React.createElement(\"span\",{className:\"stat-value\"},Math.round(weather.main.temp),\"\\xB0c\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"stat-box\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa-solid fa-droplet\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"stat-label\"},\"Humidity\"),/*#__PURE__*/React.createElement(\"span\",{className:\"stat-value\"},Math.round(weather.main.humidity),\"%\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"stat-box\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa-solid fa-eye\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"stat-label\"},\"Visibility\"),/*#__PURE__*/React.createElement(\"span\",{className:\"stat-value\"},Math.round(weather.visibility/1609),\" mi\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"stat-box\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa-solid fa-wind\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"stat-label\"},\"Wind\"),/*#__PURE__*/React.createElement(\"span\",{className:\"stat-value\"},Math.round(weather.wind.speed),\" km/h\"))))):/*#__PURE__*/React.createElement(\"div\",{className:\"error-box\"},/*#__PURE__*/React.createElement(\"h3\",null,error.query,\" \",error.message)));}export default Forcast;","map":{"version":3,"sources":["/Users/dheeraj/Desktop/Weather/src/forcast.js"],"names":["React","useState","useEffect","axios","apiKeys","Forcast","props","query","setQuery","error","setError","weather","setWeather","search","city","get","base","key","then","response","data","isDay","icon","includes","onWeatherUpdate","main","catch","console","log","message","e","target","value","name","sys","country","Math","round","temp","humidity","visibility","wind","speed"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport apiKeys from \"./apiKeys\";\n\nfunction Forcast(props) {\n  const [query, setQuery] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [weather, setWeather] = useState({});\n\n  const search = (city) => {\n    axios\n      .get(\n        `${apiKeys.base}weather?q=${city !== \"[object Object]\" ? city : query\n        }&units=metric&APPID=${apiKeys.key}`\n      )\n      .then((response) => {\n        setWeather(response.data);\n        setQuery(\"\");\n        setError(\"\"); // Clear previous errors\n        const isDay = response.data.weather[0].icon.includes('d');\n        if (props.onWeatherUpdate) {\n          props.onWeatherUpdate(response.data.weather[0].main, isDay);\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n        setWeather({});\n        setQuery(\"\");\n        setError({ message: \"Not Found\", query: query });\n      });\n  };\n\n  useEffect(() => {\n    search(\"Delhi\");\n  }, []);\n\n  return (\n    <div className=\"forecast-card\">\n\n      {/* 1. Search Section */}\n      <div className=\"search-box\">\n        <input\n          type=\"text\"\n          className=\"search-bar\"\n          placeholder=\"Search any city...\"\n          onChange={(e) => setQuery(e.target.value)}\n          value={query}\n          onKeyPress={(e) => e.key === 'Enter' && search(query)}\n        />\n        <button className=\"search-btn\" onClick={() => search(query)}>\n          <i className=\"fa-solid fa-magnifying-glass\"></i>\n        </button>\n      </div>\n\n      {/* 2. Results Section */}\n      {typeof weather.main !== \"undefined\" ? (\n        <div className=\"results-container\">\n\n          {/* City Header */}\n          <div className=\"city-header\">\n            <div className=\"city-info\">\n              <h3>{weather.name}, <span className=\"country-tag\">{weather.sys.country}</span></h3>\n              <p className=\"weather-desc\">{weather.weather[0].main}</p>\n            </div>\n            <img\n              className=\"weather-icon-small\"\n              src={`https://openweathermap.org/img/wn/${weather.weather[0].icon}@2x.png`}\n              alt=\"icon\"\n            />\n          </div>\n\n          {/* Stats Grid */}\n          <div className=\"stats-grid\">\n\n            <div className=\"stat-box\">\n              <i className=\"fa-solid fa-temperature-three-quarters\"></i>\n              <div>\n                <span className=\"stat-label\">Temp</span>\n                <span className=\"stat-value\">{Math.round(weather.main.temp)}Â°c</span>\n              </div>\n            </div>\n\n            <div className=\"stat-box\">\n              <i className=\"fa-solid fa-droplet\"></i>\n              <div>\n                <span className=\"stat-label\">Humidity</span>\n                <span className=\"stat-value\">{Math.round(weather.main.humidity)}%</span>\n              </div>\n            </div>\n\n            <div className=\"stat-box\">\n              <i className=\"fa-solid fa-eye\"></i>\n              <div>\n                <span className=\"stat-label\">Visibility</span>\n                <span className=\"stat-value\">{Math.round(weather.visibility / 1609)} mi</span>\n              </div>\n            </div>\n\n            <div className=\"stat-box\">\n              <i className=\"fa-solid fa-wind\"></i>\n              <div>\n                <span className=\"stat-label\">Wind</span>\n                <span className=\"stat-value\">{Math.round(weather.wind.speed)} km/h</span>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      ) : (\n        <div className=\"error-box\">\n          <h3>{error.query} {error.message}</h3>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Forcast;"]},"metadata":{},"sourceType":"module"}