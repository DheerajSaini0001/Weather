{"ast":null,"code":"var _jsxFileName = \"/Users/dheeraj/Desktop/Weather/src/currentLocation.js\";\nimport React from \"react\";\nimport apiKeys from \"./apiKeys\";\nimport Clock from \"react-live-clock\";\nimport loader from \"./images/WeatherIcons.gif\";\nimport ReactAnimatedWeather from \"react-animated-weather\";\n\nconst dateBuilder = d => {\n  let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  let days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n  let day = days[d.getDay()];\n  let date = d.getDate();\n  let month = months[d.getMonth()];\n  let year = d.getFullYear();\n  return `${day}, ${date} ${month} ${year}`;\n};\n\nconst defaults = {\n  color: \"white\",\n  size: 112,\n  animate: true\n};\n\nclass Weather extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      lat: undefined,\n      lon: undefined,\n      errorMessage: undefined,\n      temperatureC: undefined,\n      temperatureF: undefined,\n      city: undefined,\n      country: undefined,\n      humidity: undefined,\n      description: undefined,\n      icon: \"CLEAR_DAY\",\n      sunrise: undefined,\n      sunset: undefined,\n      errorMsg: undefined\n    };\n\n    this.getPosition = options => {\n      return new Promise(function (resolve, reject) {\n        navigator.geolocation.getCurrentPosition(resolve, reject, options);\n      });\n    };\n\n    this.getWeather = async (lat, lon) => {\n      const api_call = await fetch(`${apiKeys.base}weather?lat=${lat}&lon=${lon}&units=metric&APPID=${apiKeys.key}`);\n      const data = await api_call.json();\n      this.setState({\n        lat: lat,\n        lon: lon,\n        city: data.name,\n        temperatureC: Math.round(data.main.temp),\n        temperatureF: Math.round(data.main.temp * 1.8 + 32),\n        humidity: data.main.humidity,\n        main: data.weather[0].main,\n        country: data.sys.country\n      });\n      const currentTimestamp = new Date().getTime() / 1000;\n      const isDay = currentTimestamp > data.sys.sunrise && currentTimestamp < data.sys.sunset;\n\n      if (this.props.onWeatherUpdate) {\n        this.props.onWeatherUpdate(data.weather[0].main, isDay);\n      } // Icon Switch Logic\n\n\n      switch (this.state.main) {\n        case \"Haze\":\n          this.setState({\n            icon: \"CLEAR_DAY\"\n          });\n          break;\n\n        case \"Clouds\":\n          this.setState({\n            icon: \"CLOUDY\"\n          });\n          break;\n\n        case \"Rain\":\n          this.setState({\n            icon: \"RAIN\"\n          });\n          break;\n\n        case \"Snow\":\n          this.setState({\n            icon: \"SNOW\"\n          });\n          break;\n\n        case \"Dust\":\n          this.setState({\n            icon: \"WIND\"\n          });\n          break;\n\n        case \"Drizzle\":\n          this.setState({\n            icon: \"SLEET\"\n          });\n          break;\n\n        case \"Fog\":\n          this.setState({\n            icon: \"FOG\"\n          });\n          break;\n\n        case \"Smoke\":\n          this.setState({\n            icon: \"FOG\"\n          });\n          break;\n\n        case \"Tornado\":\n          this.setState({\n            icon: \"WIND\"\n          });\n          break;\n\n        default:\n          this.setState({\n            icon: \"CLEAR_DAY\"\n          });\n      }\n    };\n  }\n\n  componentDidMount() {\n    if (navigator.geolocation) {\n      this.getPosition().then(position => {\n        this.getWeather(position.coords.latitude, position.coords.longitude);\n      }).catch(err => {\n        this.getWeather(28.67, 77.22);\n        alert(\"You have disabled location service.\");\n      });\n    } else {\n      alert(\"Geolocation not available\");\n    }\n\n    this.timerID = setInterval(() => this.getWeather(this.state.lat, this.state.lon), 600000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  render() {\n    if (this.state.temperatureC) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"weather-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"weather-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"city-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }\n      }, this.state.city), /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"country-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }\n      }, this.state.country)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"weather-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"icon-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ReactAnimatedWeather, {\n        icon: this.state.icon,\n        color: defaults.color,\n        size: 120,\n        animate: defaults.animate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"weather-state\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }\n      }, this.state.main)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"temp-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"temperature\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 15\n        }\n      }, this.state.temperatureC, \"\\xB0\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"time-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"clock-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Clock, {\n        format: \"HH:mm:ss\",\n        interval: 1000,\n        ticking: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"date-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }\n      }, dateBuilder(new Date()))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loading-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: loader,\n        className: \"loader-img\",\n        alt: \"loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"loading-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }\n      }, \"Detecting your location\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"loading-subtext\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }\n      }, \"Your current location will be used for Real-time weather.\"));\n    }\n  }\n\n}\n\nexport default Weather;","map":{"version":3,"sources":["/Users/dheeraj/Desktop/Weather/src/currentLocation.js"],"names":["React","apiKeys","Clock","loader","ReactAnimatedWeather","dateBuilder","d","months","days","day","getDay","date","getDate","month","getMonth","year","getFullYear","defaults","color","size","animate","Weather","Component","state","lat","undefined","lon","errorMessage","temperatureC","temperatureF","city","country","humidity","description","icon","sunrise","sunset","errorMsg","getPosition","options","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","getWeather","api_call","fetch","base","key","data","json","setState","name","Math","round","main","temp","weather","sys","currentTimestamp","Date","getTime","isDay","props","onWeatherUpdate","componentDidMount","then","position","coords","latitude","longitude","catch","err","alert","timerID","setInterval","componentWillUnmount","clearInterval","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport apiKeys from \"./apiKeys\";\nimport Clock from \"react-live-clock\";\n\nimport loader from \"./images/WeatherIcons.gif\";\nimport ReactAnimatedWeather from \"react-animated-weather\";\n\nconst dateBuilder = (d) => {\n  let months = [\n    \"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\",\n  ];\n  let days = [\n    \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\",\n  ];\n\n  let day = days[d.getDay()];\n  let date = d.getDate();\n  let month = months[d.getMonth()];\n  let year = d.getFullYear();\n\n  return `${day}, ${date} ${month} ${year}`;\n};\n\nconst defaults = {\n  color: \"white\",\n  size: 112,\n  animate: true,\n};\n\nclass Weather extends React.Component {\n  state = {\n    lat: undefined,\n    lon: undefined,\n    errorMessage: undefined,\n    temperatureC: undefined,\n    temperatureF: undefined,\n    city: undefined,\n    country: undefined,\n    humidity: undefined,\n    description: undefined,\n    icon: \"CLEAR_DAY\",\n    sunrise: undefined,\n    sunset: undefined,\n    errorMsg: undefined,\n  };\n\n  componentDidMount() {\n    if (navigator.geolocation) {\n      this.getPosition()\n        .then((position) => {\n          this.getWeather(position.coords.latitude, position.coords.longitude);\n        })\n        .catch((err) => {\n          this.getWeather(28.67, 77.22);\n          alert(\"You have disabled location service.\");\n        });\n    } else {\n      alert(\"Geolocation not available\");\n    }\n\n    this.timerID = setInterval(\n      () => this.getWeather(this.state.lat, this.state.lon),\n      600000\n    );\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  getPosition = (options) => {\n    return new Promise(function (resolve, reject) {\n      navigator.geolocation.getCurrentPosition(resolve, reject, options);\n    });\n  };\n\n  getWeather = async (lat, lon) => {\n    const api_call = await fetch(\n      `${apiKeys.base}weather?lat=${lat}&lon=${lon}&units=metric&APPID=${apiKeys.key}`\n    );\n    const data = await api_call.json();\n    this.setState({\n      lat: lat,\n      lon: lon,\n      city: data.name,\n      temperatureC: Math.round(data.main.temp),\n      temperatureF: Math.round(data.main.temp * 1.8 + 32),\n      humidity: data.main.humidity,\n      main: data.weather[0].main,\n      country: data.sys.country,\n    });\n\n    const currentTimestamp = new Date().getTime() / 1000;\n    const isDay = currentTimestamp > data.sys.sunrise && currentTimestamp < data.sys.sunset;\n\n    if (this.props.onWeatherUpdate) {\n      this.props.onWeatherUpdate(data.weather[0].main, isDay);\n    }\n\n    // Icon Switch Logic\n    switch (this.state.main) {\n      case \"Haze\":\n        this.setState({ icon: \"CLEAR_DAY\" });\n        break;\n      case \"Clouds\":\n        this.setState({ icon: \"CLOUDY\" });\n        break;\n      case \"Rain\":\n        this.setState({ icon: \"RAIN\" });\n        break;\n      case \"Snow\":\n        this.setState({ icon: \"SNOW\" });\n        break;\n      case \"Dust\":\n        this.setState({ icon: \"WIND\" });\n        break;\n      case \"Drizzle\":\n        this.setState({ icon: \"SLEET\" });\n        break;\n      case \"Fog\":\n        this.setState({ icon: \"FOG\" });\n        break;\n      case \"Smoke\":\n        this.setState({ icon: \"FOG\" });\n        break;\n      case \"Tornado\":\n        this.setState({ icon: \"WIND\" });\n        break;\n      default:\n        this.setState({ icon: \"CLEAR_DAY\" });\n    }\n  };\n\n  render() {\n    if (this.state.temperatureC) {\n      return (\n        <div className=\"weather-content\">\n\n          {/* Header: Location */}\n          <div className=\"weather-header\">\n            <h2 className=\"city-name\">{this.state.city}</h2>\n            <h3 className=\"country-name\">{this.state.country}</h3>\n          </div>\n\n          {/* Body: Icon and Temp */}\n          <div className=\"weather-body\">\n            <div className=\"icon-container\">\n              <ReactAnimatedWeather\n                icon={this.state.icon}\n                color={defaults.color}\n                size={120}\n                animate={defaults.animate}\n              />\n              <p className=\"weather-state\">{this.state.main}</p>\n            </div>\n\n            <div className=\"temp-box\">\n              <h1 className=\"temperature\">\n                {this.state.temperatureC}Â°\n              </h1>\n            </div>\n          </div>\n\n          {/* Footer: Time and Date */}\n          <div className=\"time-container\">\n            <div className=\"clock-box\">\n              <Clock format=\"HH:mm:ss\" interval={1000} ticking={true} />\n            </div>\n            <div className=\"date-box\">{dateBuilder(new Date())}</div>\n          </div>\n\n\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"loading-container\">\n          <img src={loader} className=\"loader-img\" alt=\"loading\" />\n          <h3 className=\"loading-text\">Detecting your location</h3>\n          <p className=\"loading-subtext\">\n            Your current location will be used for Real-time weather.\n          </p>\n        </div>\n      );\n    }\n  }\n}\n\nexport default Weather;"]},"metadata":{},"sourceType":"module"}